

<div class="fade modal" id="modalAddPoint" tabindex="-1" role="dialog" aria-hidden="true" data-bs-keyboard="false" data-pg-collapsed>
  <div class="modal-dialog modal-dialog-centered modal-sm">
      <div class="modal-content" style="background-color: rgba(255, 255, 255, 0);">
          <div class="align-items-center d-flex flex-column">
              <div class="bg-white border-5 border-end border-primary border-top d-flex justify-content-center mb-n5" style="width: 85px; height: 85px; border-radius: 50%; z-index: 1;">
                  <img src="assets/img/icon/BESOMEWHERE.png" height="65" class="image-fit mb-3" width="65" style="z-index: 2;"/>
              </div>
              <div class="bg-white border border-3 border-primary">
                  <div class="border-0 modal-header pb-2">
                      <h4 class="me-auto modal-title ms-auto pt-4" style="z-index: 3;">Création du point</h4>
                  </div>
                  <form *ngIf="point" (submit)="onSumit()" [formGroup]="formPoint">

                    <input type="hidden" formControlName="type" name="type" >
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom" data-pg-collapsed>
                      <!-- <div class="btn-toolbar mb-2 mb-md-0">
                          <button type="submit" class="btn btn-outline-primary ">
                              <i class="fa-save fas pe-2"></i>Enregistrer
                          </button>
                      </div> -->
                    </div>


                    <div class=" table-responsive">
                      <div class="gx-0  row row-cols-1" data-pg-collapsed>
                          <div class="col-12 p-2">
                              <div class="bg-white container p-3">
                                  <div class="gx-0 row row-cols-2">
                                      <div class="col-8 form-floating pe-2 ps-0">
                                          <input type="text" formControlName="title" name="title" class="border form-control" id="floatingInput" placeholder="name@example.com">
                                          <label for="floatingInput">Titre</label>
                                      </div>
                                      <div class="align-items-center col-4 d-none">
                                          <select class="form-select h-100" id="inputGroupSelect01">
                                              <option selected>Type de point...</option>
                                              <option   value="0">Station/Gare</option>
                                              <option formControlName="type" name="type"   value="1">Points proches</option>
                                          </select>
                                      </div>
                                  </div>
                                  <div class="border form-floating mb-3 mt-3">
                                      <textarea formControlName="description" name="description"   class="form-control" placeholder="Leave a comment here" id="floatingTextarea" style="min-height: 150px;"></textarea>
                                      <label for="floatingTextarea">Commentaires</label>
                                  </div>
                                  <div  class="pe-1 ps-1">
                                    <input  formControlName="is_station" id="formDatalists451" name="is_station" type="checkbox" class="form-check-input">
                                    <!-- <input class="fs-6"  type="checkbox"  class="form-control fs-6"  placeholder="Ville"> -->
                                    <label for="formDatalists451" class="ps-2">Le point est une Station ?</label>
                                  </div>
                                  <div class="gx-0 mb-3 mt-3 row row-cols-2">
                                      <div class=" form-floating  pe-2">
                                        <input class="fs-6"  #input_  formControlName="country" name="country"    (change)="countrySelected($event)" [ngClass]="{'is-invalid' : !countryIsvalid}" class=" form-control fs-6" list="countrydatalistOptions" id="floatingInput" placeholder="Pays">
                                        <datalist id="countrydatalistOptions">
                                          <option  *ngFor="let country of countries" [value]="country.translations.fr ? country.translations.fr : country.name">
                                          </datalist>
                                          <label for="floatingInput">Pays</label>
                                          <div *ngIf="!countryIsvalid" [ngClass]="{'invalid-feedback' : !countryIsvalid} ">
                                            Choisissez un pays parmis ceux proposés
                                          </div>
                                    </div>

                                    <div  class="pe-1 ps-1 form-floating">
                                      <input class="fs-6" [readOnly]=" !countryIsvalid || !currentCountry" formControlName="city" name="city"  (change)="citySelected($event)" [ngClass]="{'is-invalid' : !cityIsvalid}"  class="form-control fs-6" list="citydatalistOptions" id="formDatalists45" placeholder="Ville">
                                      <datalist id="citydatalistOptions">
                                          <option class="text-l" *ngFor="let city of getCities(currentCountry)" [value]="city.name">
                                      </datalist>
                                      <label for="formDatalists45">Ville</label>
                                      <div class="invalid-feedback">
                                        Choisissez une ville parmis celles proposés
                                      </div>
                                    </div>
                                  </div>
                                  <div class="gx-0 row">
                                      <div  class="pe-1 ps-1 form-floating">
                                        <input class="fs-6" [readOnly]=" !currentCity" formControlName="address" name="address"  (change)="addressSelected($event)" (input)="textInput($event)"    [ngClass]="{'is-invalid' : !addressIsvalid}"  class="form-control fs-6" list="adressdatalistOptions" id="formDatalists45" placeholder="Ville">
                                        <datalist id="adressdatalistOptions">
                                          <option class="text-l" *ngFor="let point of points let i = index" [value]="point.title">{{point.address.city}} - {{point.address.countryName}} </option>
                                            <!-- <option [value]="points && points.length">gabes</option> -->
                                        </datalist>
                                        <label for="formDatalists45">Adresse</label>
                                        <div class="invalid-feedback">
                                          Choisissez une addresse parmis celles proposés
                                        </div>
                                    </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                    </div>

                  <div class="border-0 d-flex justify-content-center modal-footer">
                    <!-- <button type="reset" class="border border-2 btn btn-light" >Annuler</button>
                    <button  type="submit" class="btn btn-primary ps-2 text-light" >
                        <i class="fa-trash-alt fas pe-2"></i>Enregistrer
                    </button> -->
                  <!-- <div>{{formPoint.value | json}}</div> -->
                    <app-button data-bs-dismiss="modal" type = 'reset'  btn_class = "btn btn-outline-primary  btn-light" text="Annuler"></app-button>
                    <app-button [loading] = "loading" btn_class = "btn btn-primary ps-2 text-light h-auto text-l" text="Enregistrer"></app-button>
                </div>

                <app-toast title="Trajet non trouvé"></app-toast>
              </form>
              </div>

          </div>

      </div>
  </div>
</div>


